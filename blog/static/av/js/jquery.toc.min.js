/*
  * jquery.toc.js - A jQuery plugin that will automatically generate a table of contents. 
  * v0.1.1
  * https://github.com/jgallen23/toc
  * copyright JGA 2012
  * MIT License
  */
!function(a){a.fn.toc=function(n){var l=this;var b=a.extend({},jQuery.fn.toc.defaults,n);var d=a(b.container);var k=a(b.selectors,d);var g=[];var m=b.prefix+"-active";var e=function(r){for(var q=0,t=arguments.length;q<t;q++){var s=arguments[q],o=a(s);if(o.scrollTop()>0){return o}else{o.scrollTop(1);var p=o.scrollTop()>0;o.scrollTop(0);if(p){return o}}}return[]};var j=e(b.container,"body","html");var f=function(q){if(b.smoothScrolling){q.preventDefault();var o=a(q.target).attr("href");var p=a(o);j.animate({scrollTop:p.offset().top},400,"swing",function(){location.hash=o})}a("li",l).removeClass(m);a(q.target).parent().addClass(m)};var i;var h=function(o){if(i){clearTimeout(i)}i=setTimeout(function(){var r=a(window).scrollTop(),q,p=0;if(r>g[0]){for(p,c=g.length;p<c;p++){if(g[p]>=r){break}}a("li",l).removeClass(m);q=a("li:eq("+(p-1)+")",l).addClass(m);b.onHighlight(q)}},50)};if(b.highlightOnScroll){a(window).bind("scroll",h);h()}return this.each(function(){var p=a(this);var o=a("<ul/>");k.each(function(u,v){var r=a(v);g.push(r.offset().top-b.highlightOffset);var t=a("<span/>").attr("id",b.anchorName(u,v,b.prefix)).insertBefore(r);var s=a("<a/>").text(b.headerText(u,v,r)).attr("href","#"+b.anchorName(u,v,b.prefix)).bind("click",function(w){f(w);p.trigger("selected",a(this).attr("href"))});var q=a("<li/>").addClass(b.itemClass(u,v,r,b.prefix)).append(s);o.append(q)});p.html(o)})};jQuery.fn.toc.defaults={container:"body",selectors:"h1,h2,h3",smoothScrolling:true,prefix:"toc",onHighlight:function(){},highlightOnScroll:true,highlightOffset:100,anchorName:function(b,e,d){return d+b},headerText:function(b,e,d){return d.text()},itemClass:function(b,f,d,e){return e+"-"+d[0].tagName.toLowerCase()}}}(jQuery);
